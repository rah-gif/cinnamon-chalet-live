{% load static %}
<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Cinnamon Chalet - Rooms</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Luxury rooms and suites at Cinnamon Chalet" />
    <meta name="keywords" content="hotel, luxury, rooms, suites, accommodation" />
    <meta name="author" content="Cinnamon Chalet" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=|Roboto+Sans:400,700|Playfair+Display:400,700">

    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/animate.css' %}">
    <link rel="stylesheet" href="{% static 'css/owl.carousel.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/aos.css' %}">
    <link rel="stylesheet" href="{% static 'css/bootstrap-datepicker.css' %}">
    <link rel="stylesheet" href="{% static 'css/jquery.timepicker.css' %}">
    <link rel="stylesheet" href="{% static 'css/fancybox.min.css' %}">
    
    <link rel="stylesheet" href="{% static 'fonts/ionicons/css/ionicons.min.css' %}">
    <link rel="stylesheet" href="{% static 'fonts/fontawesome/css/font-awesome.min.css' %}">

    <!-- Theme Style -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
  </head>
  <body>
    
    <header class="site-header js-site-header">
      <div class="container-fluid">
        <div class="row align-items-center">
          <div class="col-6 col-lg-4 site-logo" data-aos="fade"><a href="{% url 'home' %}">Cinnamon Chalet</a></div>
          <div class="col-6 col-lg-8">

            <div class="site-menu-toggle js-site-menu-toggle"  data-aos="fade">
              <span></span>
              <span></span>
              <span></span>
            </div>
            <!-- END menu-toggle -->

            <div class="site-navbar js-site-navbar">
              <nav role="navigation">
                <div class="container">
                  <div class="row full-height align-items-center">
                    <div class="col-md-6 mx-auto">
                      <ul class="list-unstyled menu">
                        <li><a href="{% url 'home' %}">Home</a></li>
                        <li class="active"><a href="{% url 'rooms' %}">Rooms</a></li>
                        <li><a href="{% url 'about' %}">About</a></li>
                        <li><a href="{% url 'events' %}">Events</a></li>
                        <li><a href="{% url 'contact' %}">Contact</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </nav>
            </div>
          </div>
        </div>
      </div>
    </header>
    <!-- END head -->

    <!-- Dynamic Room Header Section -->
    <section class="site-hero inner-page overlay" style="background-image: url({% if room_header %}{{ room_header.image.url }}{% else %}{% static 'images/hero_4.jpg' %}{% endif %})" data-stellar-background-ratio="0.5">
      <div class="container">
        <div class="row site-hero-inner justify-content-center align-items-center">
          <div class="col-md-10 text-center" data-aos="fade">
            <h1 class="heading mb-3">Rooms & Gallery</h1>
            {% if room_header and room_header.subtitle %}
            <p class="text-white mb-4">{{ room_header.subtitle }}</p>
            {% endif %}
            <ul class="custom-breadcrumbs mb-4">
              <li><a href="{% url 'home' %}">Home</a></li>
              <li>&bullet;</li>
              <li>Rooms</li>
            </ul>
          </div>
        </div>
      </div>

      <a class="mouse smoothscroll" href="#next">
        <div class="mouse-icon">
          <span class="mouse-wheel"></span>
        </div>
      </a>
    </section>
    <!-- END section -->

    <!-- Enhanced Booking.com Redirect -->
    <section class="section bg-light pb-0">
      <div class="container">
        <div class="row check-availabilty" id="next">
          <div class="block-32" data-aos="fade-up" data-aos-offset="-200">
            <form id="bookingRedirectForm">
              <div class="row">
                <div class="col-md-6 mb-3 mb-lg-0 col-lg-3">
                  <label for="checkin_date" class="font-weight-bold text-black">Check In</label>
                  <div class="field-icon-wrap">
                    <div class="icon"><span class="icon-calendar"></span></div>
                    <input type="date" id="checkin_date" class="form-control" min="{{ today }}">
                  </div>
                </div>
                <div class="col-md-6 mb-3 mb-lg-0 col-lg-3">
                  <label for="checkout_date" class="font-weight-bold text-black">Check Out</label>
                  <div class="field-icon-wrap">
                    <div class="icon"><span class="icon-calendar"></span></div>
                    <input type="date" id="checkout_date" class="form-control" min="{{ tomorrow }}">
                  </div>
                </div>
                <div class="col-md-6 mb-3 mb-md-0 col-lg-3">
                  <div class="row">
                    <div class="col-md-6 mb-3 mb-md-0">
                      <label for="adults" class="font-weight-bold text-black">Adults</label>
                      <div class="field-icon-wrap">
                        <div class="icon"><span class="ion-ios-arrow-down"></span></div>
                        <select id="adults" class="form-control">
                          <option value="1">1</option>
                          <option value="2" selected>2</option>
                          <option value="3">3</option>
                          <option value="4">4</option>
                        </select>
                      </div>
                    </div>
                    <div class="col-md-6 mb-3 mb-md-0">
                      <label for="children" class="font-weight-bold text-black">Children</label>
                      <div class="field-icon-wrap">
                        <div class="icon"><span class="ion-ios-arrow-down"></span></div>
                        <select id="children" class="form-control">
                          <option value="0">0</option>
                          <option value="1">1</option>
                          <option value="2">2</option>
                          <option value="3">3</option>
                        </select>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-6 col-lg-3 align-self-end">
                  <button type="button" id="redirectToBooking" class="btn btn-primary btn-block text-white">Check Availability</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Set min dates
        const today = new Date();
        const tomorrow = new Date();
        tomorrow.setDate(today.getDate() + 1);
        
        document.getElementById('checkin_date').min = today.toISOString().split('T')[0];
        document.getElementById('checkout_date').min = tomorrow.toISOString().split('T')[0];
        
        // Redirect to Booking.com with parameters
        document.getElementById('redirectToBooking').addEventListener('click', function() {
            const checkin = document.getElementById('checkin_date').value;
            const checkout = document.getElementById('checkout_date').value;
            const adults = document.getElementById('adults').value;
            const children = document.getElementById('children').value;
            
            let bookingUrl = 'https://www.booking.com/hotel/lk/pasidu-villa-athuraliya.en-gb.html';
            
            // Add parameters if dates are selected
            if (checkin && checkout) {
                bookingUrl += `?checkin=${checkin}&checkout=${checkout}&group_adults=${adults}&group_children=${children}`;
            }
            
            window.open(bookingUrl, '_blank');
        });
    });
    </script>

    <!-- Room Types Section -->
    <section class="section">
      <div class="container">
        <div class="row justify-content-center text-center mb-5">
          <div class="col-md-7">
            <h2 class="heading" data-aos="fade-up">Our Rooms & Suites</h2>
            <p data-aos="fade-up" data-aos-delay="100">Experience luxury and comfort in our carefully designed rooms and suites, each offering unique amenities and stunning views.</p>
          </div>
        </div>
        
        <div class="row">
          {% for room in rooms %}
          <div class="col-md-6 col-lg-4 mb-5" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:100 }}">
            <a href="#" class="room">
              <figure class="img-wrap">
                <img src="{{ room.image.url }}" alt="{{ room.name }}" class="img-fluid mb-3">
              </figure>
              <div class="p-3 text-center room-info">
                <h2>{{ room.name }}</h2>
                <span class="text-uppercase letter-spacing-1">${{ room.price_per_night }} / per night</span>
                <p class="mt-2 small">{{ room.description|truncatewords:20 }}</p>
              </div>
            </a>
          </div>
          {% empty %}
          <div class="col-12 text-center">
            <p class="text-muted">No rooms available at the moment.</p>
          </div>
          {% endfor %}
        </div>
      </div>
    </section>

    <!-- Gallery Section -->
    <section class="section bg-light">
      <div class="container">
        <div class="row justify-content-center text-center mb-5">
          <div class="col-md-7">
            <h2 class="heading" data-aos="fade-up"> Gallery of Uniqueness</h2>
            <p data-aos="fade-up" data-aos-delay="100">Browse through our stunning room gallery to see the luxury and comfort we offer. Each room is designed to provide you with an unforgettable experience.</p>
          </div>
        </div>
        
        <!-- Carousel Gallery -->
        <div class="row">
          <div class="col-md-12">
            <div class="home-slider major-caousel owl-carousel mb-5" data-aos="fade-up" data-aos-delay="200">
              {% for gallery_item in room_gallery|slice:":7" %}
              <div class="slider-item">
                <a href="{{ gallery_item.image.url }}" data-fancybox="gallery" data-caption="{{ gallery_item.title }}">
                  <img src="{{ gallery_item.image.url }}" alt="{{ gallery_item.title }}" class="img-fluid">
                </a>
              </div>
              {% empty %}
              <div class="slider-item">
                <a href="{% static 'images/slider-1.jpg' %}" data-fancybox="gallery" data-caption="Luxury Suite">
                  <img src="{% static 'images/slider-1.jpg' %}" alt="Luxury Suite" class="img-fluid">
                </a>
              </div>
              <div class="slider-item">
                <a href="{% static 'images/slider-2.jpg' %}" data-fancybox="gallery" data-caption="Executive Room">
                  <img src="{% static 'images/slider-2.jpg' %}" alt="Executive Room" class="img-fluid">
                </a>
              </div>
              {% endfor %}
            </div>
          </div>
        </div>

        <!-- Gallery Grid -->
        <div class="row">
          {% for gallery_item in room_gallery %}
          <div class="col-md-4 mb-4" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:100 }}">
            <div class="gallery-item">
              <a href="{{ gallery_item.image.url }}" data-fancybox="gallery" data-caption="{{ gallery_item.title }}">
                <img src="{{ gallery_item.image.url }}" alt="{{ gallery_item.title }}" class="img-fluid rounded">
              </a>
              <div class="gallery-caption mt-2">
                <h5 class="mb-1">{{ gallery_item.title }}</h5>
                {% if gallery_item.room_type %}
                <small class="text-muted">{{ gallery_item.room_type }}</small>
                {% endif %}
                {% if gallery_item.description %}
                <p class="small mt-1">{{ gallery_item.description|truncatewords:15 }}</p>
                {% endif %}
              </div>
            </div>
          </div>
          {% empty %}
          <!-- Fallback static images if no gallery items -->
          <div class="col-md-4 mb-4" data-aos="fade-up">
            <a href="{% static 'images/img_1.jpg' %}" data-fancybox="gallery" data-caption="Single Room">
              <img src="{% static 'images/img_1.jpg' %}" alt="Single Room" class="img-fluid rounded">
            </a>
          </div>
          <div class="col-md-4 mb-4" data-aos="fade-up" data-aos-delay="100">
            <a href="{% static 'images/img_2.jpg' %}" data-fancybox="gallery" data-caption="Family Room">
              <img src="{% static 'images/img_2.jpg' %}" alt="Family Room" class="img-fluid rounded">
            </a>
          </div>
          <div class="col-md-4 mb-4" data-aos="fade-up" data-aos-delay="200">
            <a href="{% static 'images/img_3.jpg' %}" data-fancybox="gallery" data-caption="Presidential Room">
              <img src="{% static 'images/img_3.jpg' %}" alt="Presidential Room" class="img-fluid rounded">
            </a>
          </div>
          {% endfor %}
        </div>
      </div>
    </section>
    <!-- END Gallery Section -->

    <!-- Special Offers Section -->
    <section class="section bg-light">
      <div class="container">
        <div class="row justify-content-center text-center mb-5">
          <div class="col-md-7">
            <h2 class="heading" data-aos="fade">Special Offers</h2>
            <p data-aos="fade">Take advantage of our exclusive deals and enjoy luxury accommodations at exceptional prices.</p>
          </div>
        </div>
      
        {% for offer in special_offers %}
        <div class="site-block-half d-block d-lg-flex bg-white mb-5" data-aos="fade" data-aos-delay="{{ forloop.counter0|add:100 }}">
          <div class="image d-block bg-image-2 {% if forloop.counter|divisibleby:2 %}order-2{% endif %}" style="background-image: url('{{ offer.image.url }}'); min-height: 400px;"></div>
          <div class="text {% if forloop.counter|divisibleby:2 %}order-1{% endif %}">
            <span class="d-block mb-3">
              <span class="display-4 text-primary">${{ offer.discounted_price }}</span> 
              <span class="text-uppercase letter-spacing-2">/ per night</span>
              <small class="text-muted text-decoration-line-through ml-2">${{ offer.original_price }}</small>
            </span>
            <h2 class="mb-3">{{ offer.title }}</h2>
            <p class="mb-4">{{ offer.description }}</p>
            <p class="text-muted mb-3"><small>Valid until: {{ offer.valid_until }}</small></p>
            <p><a href="https://www.booking.com/hotel/lk/pasidu-villa-athuraliya.en-gb.html?aid=2311236&label=en-lk-booking-desktop-IncWB4CtfrbYgbu3xC6gmwS652796017434%3Apl%3Ata%3Ap1%3Ap2%3Aac%3Aap%3Aneg%3Afi%3Atikwd-334108349%3Alp1009919%3Ali%3Adec%3Adm&sid=e936929ac10877552d1b098cb7e3d603&dist=0&group_adults=2&group_children=0&hapos=1&hpos=1&no_rooms=1&req_adults=2&req_children=0&room1=A%2CA&sb_price_type=total&sr_order=popularity&srepoch=1759665948&srpvid=68cd55067ef80849&type=total&ucfs=1&" class="btn btn-primary text-white">Book Now</a></p>
          </div>
        </div>
        {% empty %}
        <!-- Fallback offers if no special offers -->
        <div class="site-block-half d-block d-lg-flex bg-white mb-5" data-aos="fade" data-aos-delay="100">
          <div class="image d-block bg-image-2" style="background-image: url('{% static 'images/img_1.jpg' %}'); min-height: 400px;"></div>
          <div class="text">
            <span class="d-block mb-3">
              <span class="display-4 text-primary">$199</span> 
              <span class="text-uppercase letter-spacing-2">/ per night</span>
              <small class="text-muted text-decoration-line-through ml-2">$249</small>
            </span>
            <h2 class="mb-3">Family Room Special</h2>
            <p class="mb-4">Enjoy our spacious family rooms with special discounted rates. Perfect for family vacations with extra amenities for children.</p>
            <p><a href="#" class="btn btn-primary text-white">Book Now</a></p>
          </div>
        </div>
        <div class="site-block-half d-block d-lg-flex bg-white mb-5" data-aos="fade" data-aos-delay="200">
          <div class="image d-block bg-image-2 order-2" style="background-image: url('{% static 'images/img_2.jpg' %}'); min-height: 400px;"></div>
          <div class="text order-1">
            <span class="d-block mb-3">
              <span class="display-4 text-primary">$299</span> 
              <span class="text-uppercase letter-spacing-2">/ per night</span>
              <small class="text-muted text-decoration-line-through ml-2">$399</small>
            </span>
            <h2 class="mb-3">Presidential Suite Offer</h2>
            <p class="mb-4">Experience ultimate luxury in our presidential suite with exclusive amenities and services at a special price.</p>
            <p><a href="#" class="btn btn-primary text-white">Book Now</a></p>
          </div>
        </div>
        {% endfor %}
      </div>
    </section>

    <section class="section bg-image overlay" style="background-image: url('{% static 'images/hero_4.jpg' %}');">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-12 col-md-6 text-center mb-4 mb-md-0 text-md-left" data-aos="fade-up">
            <h2 class="text-white font-weight-bold">A Best Place To Stay. Reserve Now!</h2>
          </div>
          <div class="col-12 col-md-6 text-center text-md-right" data-aos="fade-up" data-aos-delay="200">
            <a href="https://www.booking.com/hotel/lk/pasidu-villa-athuraliya.en-gb.html?aid=2311236&label=en-lk-booking-desktop-IncWB4CtfrbYgbu3xC6gmwS652796017434%3Apl%3Ata%3Ap1%3Ap2%3Aac%3Aap%3Aneg%3Afi%3Atikwd-334108349%3Alp1009919%3Ali%3Adec%3Adm&sid=e936929ac10877552d1b098cb7e3d603&dist=0&group_adults=2&group_children=0&hapos=1&hpos=1&no_rooms=1&req_adults=2&req_children=0&room1=A%2CA&sb_price_type=total&sr_order=popularity&srepoch=1759665948&srpvid=68cd55067ef80849&type=total&ucfs=1&" class="btn btn-outline-white-primary py-3 text-white px-5">Reserve Now</a>
          </div>
        </div>
      </div>
    </section>
    
    <footer class="section footer-section">
      <div class="container">
        <div class="row mb-4">
          
          <!-- Legal Links -->
          <div class="col-md-3 mb-5">
            <h3 class="text-uppercase h6 mb-3">Legal</h3>
            <ul class="list-unstyled link">
              <li class="mb-2"><a href="#" class="text-muted">Terms &amp; Conditions</a></li>
              <li class="mb-2"><a href="#" class="text-muted">Privacy Policy</a></li>
              <li><a href="#" class="text-muted">Cookie Policy</a></li>
            </ul>
          </div>

          <!-- Quick Links -->
          <div class="col-md-3 mb-5">
            <h3 class="text-uppercase h6 mb-3">Explore</h3>
            <ul class="list-unstyled link">
              <li class="mb-2"><a href="{% url 'rooms' %}" class="text-muted">Rooms &amp; Suites</a></li>
              <li class="mb-2"><a href="{% url 'about' %}" class="text-muted">About Us</a></li>
              <li class="mb-2"><a href="{% url 'contact' %}" class="text-muted">Contact Us</a></li>
              <li><a href="{% url 'events' %}" class="text-muted">Events</a></li>
            </ul>
          </div>

          <!-- Contact Information -->
          <div class="col-md-3 mb-5">
            <h3 class="text-uppercase h6 mb-3">Visit Us</h3>
            <div class="contact-info">
              <p class="mb-3">
                <span class="d-block text-muted mb-1">
                  <span class="ion-ios-location h5 mr-2 text-primary"></span>
                  Address:
                </span>
                <span class="text-muted">261/69, Prime Elite<br>Thalgasgoda Road<br>Ambalangoda, Sri Lanka</span>
              </p>
              <p class="mb-3">
                <span class="d-block text-muted mb-1">
                  <span class="ion-ios-telephone h5 mr-2 text-primary"></span>
                  Phone:
                </span>
                <a href="tel:+94774005317" class="text-muted">+94 77 400 5317</a>
              </p>
              <p class="mb-0">
                <span class="d-block text-muted mb-1">
                  <span class="ion-ios-email h5 mr-2 text-primary"></span>
                  Email:
                </span>
                <a href="mailto:cinnamonchalet33@gmail.com" class="text-muted">cinnamonchalet33@gmail.com</a>
              </p>
            </div>
          </div>

          <!-- Get In Touch & Social -->
          <div class="col-md-3 mb-5">
            <h3 class="text-uppercase h6 mb-3">Connect</h3>
            
            <!-- Contact Methods -->
            <div class="contact-methods mb-4">
              <p class="mb-2">
                <span class="fa fa-phone text-primary mr-2"></span>
                <a href="tel:+94774005317" class="text-muted">Call Us</a>
              </p>
              <p class="mb-2">
                <span class="fa fa-whatsapp text-primary mr-2"></span>
                <a href="https://wa.me/94774005317" class="text-muted" target="_blank">WhatsApp</a>
              </p>
              <p class="mb-3">
                <span class="fa fa-envelope text-primary mr-2"></span>
                <a href="mailto:cinnamonchalet33@gmail.com" class="text-muted">Email Us</a>
              </p>
            </div>

            <!-- Social Links -->
            <div class="social-links">
              <h4 class="text-uppercase h6 mb-2">Follow Us</h4>
              <div class="d-flex">
                <a href="#" class="text-muted mr-3" aria-label="Facebook" title="Follow us on Facebook">
                  <span class="fa fa-facebook fa-lg"></span>
                </a>
                <a href="#" class="text-muted mr-3" aria-label="Instagram" title="Follow us on Instagram">
                  <span class="fa fa-instagram fa-lg"></span>
                </a>
                <a href="#" class="text-muted mr-3" aria-label="TripAdvisor" title="Check us on TripAdvisor">
                  <span class="fa fa-tripadvisor fa-lg"></span>
                </a>
                <a href="#" class="text-muted" aria-label="Twitter" title="Follow us on Twitter">
                  <span class="fa fa-twitter fa-lg"></span>
                </a>
              </div>
            </div>
          </div>

        </div>

        <!-- Copyright & Bottom Social -->
        <div class="row pt-5 border-top">
          <div class="col-md-6">
            <p class="text-muted mb-0">
              Copyright &copy; <script>document.write(new Date().getFullYear());</script> 
              Cinnamon Chalet. All rights reserved.
            </p>
          </div>
          <div class="col-md-6 text-md-right">
            <div class="social">
              <a href="#" class="text-muted mr-3" aria-label="TripAdvisor">
                <span class="fa fa-tripadvisor"></span>
              </a>
              <a href="#" class="text-muted mr-3" aria-label="Facebook">
                <span class="fa fa-facebook"></span>
              </a>
              <a href="#" class="text-muted mr-3" aria-label="Instagram">
                <span class="fa fa-instagram"></span>
              </a>
              <a href="#" class="text-muted" aria-label="Twitter">
                <span class="fa fa-twitter"></span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </footer>
    
    <script src="{% static 'js/jquery-3.3.1.min.js' %}"></script>
    <script src="{% static 'js/jquery-migrate-3.0.1.min.js' %}"></script>
    <script src="{% static 'js/popper.min.js' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    <script src="{% static 'js/owl.carousel.min.js' %}"></script>
    <script src="{% static 'js/jquery.stellar.min.js' %}"></script>
    <script src="{% static 'js/jquery.fancybox.min.js' %}"></script>
    <script src="{% static 'js/aos.js' %}"></script>
    <script src="{% static 'js/bootstrap-datepicker.js' %}"></script> 
    <script src="{% static 'js/jquery.timepicker.min.js' %}"></script> 
    <script src="{% static 'js/main.js' %}"></script>
  </body>
</html>